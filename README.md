# Название проекта: Сопоставление произвольных гео названий с унифицированными именами geonames
## Заказчик: Карьерный центр Яндекс Практикум
## Статус проекта: завершён
## Описание проекта
<br>Создание решения для сопоставления гео названий с унифицированными именами geonames для внутреннего использования заказчиком
## Цель проекта
- Сопоставление произвольных гео названий с унифицированными именами geonames
## Задачи:
- создать решение для подбора наиболее подходящих названий с geonames. Например Ереван -> Yerevan
- на примере РФ и стран наиболее популярных для релокации - Беларусь, Армения, Казахстан, Кыргызстан, Турция, Сербия. Города с населением от 15000 человек (с возможностью масштабирования на сервере заказчика)
- возвращаемые поля geonameid, name, region, country, cosine similarity
- формат данных на выходе: список словарей, например [{dict_1}, {dict_2}, …. {dict_n}] где словарь - одна запись с указанными полями
- возможность настройки количества выдачи подходящих названий (например в параметрах метода)
- коррекция ошибок и опечаток. Например Моченгорск -> Monchegorsk
- хранение в PostgreSQL данных geonames
- хранение векторизованных промежуточных данных в PostgreSQL
- предусмотреть методы для настройки подключения к БД
- предусмотреть метод для инициализации класса (первичная векторизация geonames)
- предусмотреть методы для добавления векторов новых гео названий
## Ход исследования
- Поднятие базы PostgreSQL
- Добавление к базе таблиц
- Выполнение запроса SQL
- Формирование окончательной таблицы
- Создание функции для получения результатов
- Выбор модели для обучения
- Получение эмбеддингов
- Тестирование модели
- Отчёт
## Используемые инструменты
- python
- pandas
- sqlalchemy
- torch
- sentence_transformers
- PostgreSQL
## Заключение:
- для решения поставленной задачи с сайта geonames.org были взяты несколько таблиц
- локально поднята база PostgreSQL
- в базу загружены скачанные таблицы
- проведена обработка данных, объединение таблиц
- написана функция `similar_search` для предоставления результатов в
  <br>требуемом заказчиком виде
- в качестве инструмента использованы две модели на основе BERT:
  <br>LaBSE и дообученная LaBSE
- обе модели показали приемлемы результат,
  <br>но LaBSE без дополнительного дообучения находит больше вариантов по
  <br>косинусному сходству
- создан класс `CitySearch`
